# dashBoard
demo地址：[dashboard.lulutia.com](http://dashboard.lulutia.com/) 加载慢的伤我的心……多刷新几次吧……
## 概况
* 数据来源：
	* 地图部分：[PM25.in](http://www.pm25.in/)获取的，因为使用的公共key，每小时有访问限制，所以获取一次后存成了本地json文件。
	* 地图部分对应的位置信息：[百度地图web服务API](http://developer.baidu.com/map/index.php?title=webapi/guide/webservice-geocoding),貌似没看见可以一次请求很多地方的接口，所以根据天气获取的地点每个地方都请求了一次(给跪……)。
	* 三城市数据：用的task提供的数据，用的node直接把excel转成的json。
* 待优化：
	* 虽然现在是分模块加载的，不过echarts部分没分……结局出乎我意料的大，导致还得改require里面的参数来让它加载完毕。
	* 三城市部分做的比较随意……以后慢慢改吧。
	* 地图选择到省份的时候没有做容错处理导致下面联动的折线图有问题，以后加吧……
	* 联动部分现在只允许选择五个城市，后面希望超过五个后自动将前面的删除，简单的说就是维护一个队列啦。
	* 很多时候的切换不是通过调setOption，而是直接又初始化了一次，绝对不行滴。
	* 希望加根据用户输入个数在地图上显示top数量，其实我很想直接上传excel然后自动解析成json然后初始化，不过用grunt解析出来的key和value不是我希望的对应关系……暂时没发现好的做法。
	* 获取天气中的城市(比如克州)在地图API上没法获取其经纬度……也是神奇……暂时直接定位到json把空气里对应的此地方的数据删除的(幸好只有一个地方)……但是嘛，长久来看是肯定不行滴。
	* 想到再加吧……总之代码太乱了不能忍
